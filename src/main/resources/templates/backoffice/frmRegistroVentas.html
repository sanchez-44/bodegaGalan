<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Ventas</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script th:src="@{/scripts/web/backoffice/frmVentaRegistro.js}" type="text/javascript"></script>
</head>
<body>


<div th:include="~{layout::head}">
</div>
<div class="card">
    <div class="card">
        <div class="card-header text-bg-dark mb-3">
            Filtros de Búsqueda
        </div>
        <div class="card-body">
            <form id="formBusqueda">
                <div class="form-group">
                    <label for="codigoVenta">Código de Venta:</label>
                    <input type="text" class="form-control" id="codigoVenta" name="codigoVenta">
                </div>
                <div class="form-group">
                    <label for="dniCliente">DNI del Cliente:</label>
                    <input type="text" class="form-control" id="dniCliente" name="dniCliente">
                </div>

                <button type="button" class="btn btn-primary" onclick="buscarVentas()">Buscar</button>
                <button type="button" class="btn btn-primary" id="btnResetTabla" onclick="listarTodasLasVentas()">Resetear Tabla</button>

            </form>
        </div>
    </div>
    <div class="card-body">
        <div id="mensaje"></div>
        <table id="tblventa" class="table">
            <thead>
            <tr>
                <th scope="col">Código</th>
                <th scope="col">Empleado</th>
                <th scope="col">DNI</th>
                <th scope="col">Fecha</th>
                <th scope="col">Descripción</th>
                <th scope="col">Tipo de Pago</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="venta : ${listaventas}">
                <td th:text="${venta.codigoVenta}"></td>
                <td th:text="${venta.codigoEmpleado.codigoEmpleado}"></td>
                <td th:text="${venta.dniCliente}"></td>
                <td th:text="${venta.fecha}"></td>
                <td th:text="${venta.descripcion}"></td>
                <td th:text="${venta.tipoPago.codigoTipoPago}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        <a th:href="@{/backoffice/registroVentas/principal}" class="btn btn-primary">Menú Principal</a>
    </div>
</div>
</body>
</html>